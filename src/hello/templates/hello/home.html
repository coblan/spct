{% extends "jb_admin/base.html" %}
{% load static %}
{% load jsonify %}

{% block page_content %}
<script src="https://cdn.bootcss.com/echarts/4.1.0-release/echarts.min.js"></script>
<script src="{{ js_config.js_lib.maindb }}"></script>

<script>

    trend_list={{ trend_list | jsonify }}

    $(function(){



        new Vue({
            el:'#there',
            data:{
                trend_list:trend_list,
                activeName:trend_list[0].key
            },
            mounted:function(){
//                $('#mainjj').width($(this.$el).width()-30)
//                this. myChart = echarts.init(document.getElementById('mainjj'));
                this.bar_rows=rows

            },
//            watch:{
//                bar_rows:function(v){
//                    var x_data=ex.map(v,function(item){
//                        return item.time
//                    })
//                    var y_data=ex.map(v,function(item){
//                        return item.amount
//                    })
//
//                    var option = {
//                        title: {
////                text: 'ECharts 入门示例'
//                        },
//                        tooltip: {},
////            legend: {
////                data:['销量']
////            },
//                        xAxis: {
//                            data: x_data
//                        },
//                        yAxis: {},
//                        series: [{
//                            name: '销量',
//                            type: 'bar',
//                            data: y_data,
//                        }]
//                    };
//                    this.myChart.setOption(option);
//                }
//            }
//
        })


    })

</script>

<div id="there">

    <el-tabs v-model="activeName" @tab-click="handleClick" lazy>
        <el-tab-pane v-for="trend in trend_list" :label="trend.label" :name="trend.key">
            <div style="height:400px;width: 600px">
                <com-bar-chart :trend="trend"></com-bar-chart>
            </div>
        </el-tab-pane>
        <!--<el-tab-pane label="定时任务补偿" name="fourth">定时任务补偿</el-tab-pane>-->
    </el-tabs>
    <!--<div style="height:400px;width: 600px">-->
        <!--<com-bar-chart :bar-rows="bar_rows"></com-bar-chart>-->
    <!--</div>-->

</div>


{% block extra %}
{% endblock %}
{% endblock %}